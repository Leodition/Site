<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fale com a Gente | Leodition ‚Äì Marketing Play</title>
  <style>
    :root{
      --bg: #060606;
      --panel: rgba(18,18,18,.72);
      --panel2: rgba(18,18,18,.55);
      --text: #f4f4f4;
      --muted: rgba(244,244,244,.72);
      --orange: #ff7a18;
      --yellow: #ffd84a;
      --shadow: 0 14px 40px rgba(0,0,0,.55);
      --radius: 18px;
    }
    *{ box-sizing: border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background: var(--bg);
      overflow-x: hidden;
    }
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -2;
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(255,122,24,.10), transparent 60%),
        radial-gradient(900px 600px at 90% 15%, rgba(255,216,74,.08), transparent 55%),
        radial-gradient(800px 600px at 40% 90%, rgba(255,122,24,.08), transparent 60%),
        linear-gradient(180deg, #050505 0%, #070707 40%, #050505 100%);
    }
    body::after{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      opacity: .16;
      background-image:
        repeating-radial-gradient(circle at 20% 30%,
          rgba(255,255,255,.06) 0 1px,
          transparent 1px 6px);
      filter: blur(.6px);
      transform: translateZ(0);
      pointer-events:none;
      mix-blend-mode: overlay;
    }
    .wrap{
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(6,6,6,.65);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .topbar-inner{
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }
    .brand{
      display:flex;
      align-items:center;
      text-decoration:none;
      color: var(--text);
    }
    .brand-logo{
      height: 65px;
      width: auto;
      display: block;
      object-fit: contain;
    }
    @media (max-width: 520px){
      .brand-logo{ height: 80px; }
    }
    .nav{
      display:flex;
      align-items:center;
      gap: 10px;
    }
    .nav a{
      color: rgba(244,244,244,.86);
      text-decoration: none;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: .08em;
    }
    .nav a:hover{
      transform: translateY(-1px);
      background: rgba(255,122,24,.10);
      border-color: rgba(255,122,24,.25);
      box-shadow: 0 10px 22px rgba(0,0,0,.35);
    }
    .nav a.cta{
      background: linear-gradient(135deg, var(--yellow), var(--orange));
      border-color: transparent;
      color: #120a00;
      font-weight: 700;
    }
    .nav a.cta span{ position:relative; z-index:1; }
    .nav a.cta:hover{
      transform: translateY(-1px);
      filter: brightness(1.08);
      box-shadow: 0 12px 28px rgba(255,122,24,.45);
    }
    .nav a.cta.active{
      font-weight: 800;
    }
    .nav a.cta.active::after{
      content: "";
      position: absolute;
      left: 14px; right: 14px; bottom: 7px;
      height: 2px; border-radius: 999px;
      background: linear-gradient(90deg, #120a00, #120a00);
      opacity: 0.9;
    }
    main{
      flex: 1;
      padding: 34px 18px 22px;
    }
    .container{
      max-width: 1100px;
      margin: 0 auto;
    }
    .hero{
      margin-top: 8px;
      display:flex;
      flex-direction: column;
      gap: 10px;
      animation: fadeUp .7s ease both;
    }
    h1{
      margin: 0;
      font-size: clamp(26px, 3.2vw, 40px);
      letter-spacing: .2px;
    }
    .subtitle{
      margin: 0;
      color: var(--muted);
      font-size: 15px;
      max-width: 68ch;
    }
    .grid{
      margin-top: 22px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
      align-items: start;
    }
    .card{
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .card::before{
      content:"";
      position:absolute;
      inset: -1px;
      background:
        radial-gradient(600px 240px at 15% 0%, rgba(255,122,24,.18), transparent 60%),
        radial-gradient(420px 220px at 90% 10%, rgba(255,216,74,.14), transparent 60%);
      pointer-events:none;
      opacity: .9;
    }
    .card-inner{
      position: relative;
      padding: 18px;
    }
    .card-title{
      display:flex;
      align-items:center;
      gap: 10px;
      margin-bottom: 14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,122,24,.22);
      background: rgba(255,122,24,.10);
      color: rgba(255,216,74,.92);
      font-size: 12px;
      letter-spacing: .02em;
    }
    form{ display:grid; gap: 12px; }
    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    label{
      font-size: 12px;
      color: rgba(244,244,244,.78);
      display:block;
      margin-bottom: 6px;
    }
    input, textarea, select{
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.35);
      color: var(--text);
      padding: 12px 12px;
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    textarea{ min-height: 120px; resize: vertical; }
    input:focus, textarea:focus, select:focus{
      border-color: rgba(255,122,24,.55);
      box-shadow: 0 0 0 4px rgba(255,122,24,.18);
    }
    .actions{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 2px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      border: none;
      cursor:pointer;
      border-radius: 999px;
      padding: 12px 16px;
      color: #120a00;
      font-weight: 700;
      letter-spacing: .2px;
      background: linear-gradient(135deg, var(--yellow), var(--orange));
      box-shadow: 0 16px 30px rgba(0,0,0,.45);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 18px 34px rgba(0,0,0,.55);
    }
    .btn:active{ transform: translateY(0px) scale(.99); }
    .hint{
      font-size: 12px;
      color: rgba(244,244,244,.65);
    }
    .trust{
      display:flex;
      flex-direction: column;
      gap: 10px;
      animation: fadeUp .7s ease .08s both;
    }
    .trust h3{
      margin: 0;
      font-size: 16px;
      letter-spacing: .2px;
    }
    .trust p{
      margin: 0;
      color: var(--muted);
      line-height: 1.55;
      font-size: 14px;
      white-space: pre-line;
    }
    .trust-badges{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.25);
      color: rgba(244,244,244,.78);
      font-size: 12px;
      transition: transform .2s ease, border-color .2s ease, background .2s ease;
    }
    .badge:hover{
      transform: translateY(-2px);
      background: rgba(255,122,24,.08);
      border-color: rgba(255,122,24,.25);
    }
    footer{
      border-top: 1px solid rgba(255,255,255,.06);
      background: rgba(6,6,6,.78);
      backdrop-filter: blur(8px);
    }
    .footer-inner{
      max-width: 1100px;
      margin: 0 auto;
      padding: 16px 18px;
      display:flex;
      flex-direction: column;
      gap: 12px;
    }
    .contact-strip{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .contact-item{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.28);
      text-decoration: none;
      color: var(--text);
      transition: all .2s ease;
      position: relative;
      overflow: hidden;
    }
    .contact-item:hover{
      transform: translateY(-2px);
      background: rgba(255,122,24,.08);
      border-color: rgba(255,122,24,.25);
    }
    .contact-item .label{
      display:flex;
      flex-direction: column;
      gap: 2px;
    }
    .contact-item .label b{
      font-size: 11px;
      text-transform: uppercase;
      color: rgba(255,216,74,.90);
      letter-spacing: .04em;
    }
    .contact-item .label span{
      font-size: 13px;
      color: rgba(244,244,244,.80);
    }
    .icon{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,216,74,.18);
      background: linear-gradient(135deg, rgba(255,122,24,.25), rgba(255,216,74,.12));
      flex: 0 0 auto;
    }
    .icon svg{ width: 18px; height: 18px; fill: rgba(244,244,244,.92); }
    .footer-bottom{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      color: rgba(244,244,244,.62);
      font-size: 12px;
      padding-top: 10px;
    }
    .footer-bottom .slogan{
      color: rgba(255,216,74,.78);
      letter-spacing: .04em;
    }
    @media (max-width: 900px){
      .grid{ grid-template-columns: 1fr; }
      .row{ grid-template-columns: 1fr; }
      .contact-strip{ grid-template-columns: 1fr; }
    }
    @keyframes fadeUp{
      from{ opacity: 0; transform: translateY(10px); }
      to{ opacity: 1; transform: translateY(0); }
    }
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }

    /* ESTILOS DO MODO ADMINISTRATIVO */
    #adminOverlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.85);
      backdrop-filter: blur(8px);
      z-index: 99990;
      display: none;
      align-items: center;
      justify-content: center;
      pointer-events: auto;
    }
    #adminOverlay.active {
      display: flex;
    }
    .admin-lock {
      position: absolute;
      font-size: min(50vw, 500px);
      color: rgba(255,122,24,.18);
      filter: drop-shadow(0 0 60px rgba(255,122,24,.4));
      user-select: none;
      pointer-events: none;
      z-index: 99991;
    }
    #adminPasswordBox {
      background: rgba(18,18,18,.96);
      border: 1px solid rgba(255,122,24,.5);
      border-radius: 20px;
      padding: 30px;
      width: min(90vw, 420px);
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,.9);
      z-index: 99999;
      color: #f4f4f4;
    }
    #adminPasswordBox h3 {
      margin: 0 0 20px;
      font-size: 22px;
      color: #ffd84a;
    }
    #adminPasswordInput {
      width: 100%;
      padding: 14px;
      font-size: 18px;
      text-align: center;
      background: rgba(0,0,0,.4);
      border: 1px solid rgba(255,122,24,.4);
      border-radius: 14px;
      color: #fff;
      margin-bottom: 16px;
    }
    #adminPasswordInput:focus {
      outline: none;
      border-color: var(--orange);
      box-shadow: 0 0 0 4px rgba(255,122,24,.2);
    }
    #adminPasswordBtn {
      background: linear-gradient(135deg, var(--yellow), var(--orange));
      color: #120a00;
      border: none;
      padding: 12px 24px;
      border-radius: 999px;
      font-weight: 700;
      cursor: pointer;
      font-size: 15px;
    }
    #adminPasswordError {
      color: #ff6666;
      margin-top: 12px;
      font-size: 14px;
      min-height: 20px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <div class="topbar-inner">
        <a class="brand" href="index.html" aria-label="Voltar para a p√°gina inicial">
          <img class="brand-logo" src="assets/img/logo/leologo.png" alt="Leodition Marketing Play">
        </a>
        <nav class="nav" aria-label="Navega√ß√£o principal">
          <a href="index.html">P√ÅGINA INICIAL</a>
          <a href="servicos.html">SERVI√áOS</a>
          <a href="portfolio.html">PROJETOS</a>
          <a href="loja.html">LOJA</a>
          <a class="cta active" href="fale-com-a-gente.html" aria-current="page"><span>FALE COM A GENTE</span></a>
        </nav>
      </div>
    </header>
    <main>
      <div class="container">
        <section class="hero">
          <h1>Fale com a gente</h1>
          <p class="subtitle">Quer tirar uma ideia do papel? Conte-nos do que voc√™ precisa!</p>
        </section>
        <section class="grid" aria-label="Formul√°rio e seguran√ßa">
          <div class="card" role="region" aria-label="Formul√°rio r√°pido">
            <div class="card-inner">
              <div class="card-title">
                <div class="pill" aria-hidden="true">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M13 2L3 14h7l-1 8 12-14h-7l-1-6z" fill="currentColor"></path>
                  </svg>
                  Formul√°rio r√°pido
                </div>
              </div>
              <form id="contactForm">
                <div class="row">
                  <div>
                    <label for="nome">Seu nome</label>
                    <input id="nome" name="nome" type="text" placeholder="Ex.: Leonardo" required />
                  </div>
                  <div>
                    <label for="empresa">Empresa (opcional)</label>
                    <input id="empresa" name="empresa" type="text" placeholder="Ex.: Minha Marca" />
                  </div>
                </div>
                <div class="row">
                  <div>
                    <label for="email">E-mail</label>
                    <input id="email" name="email" type="email" placeholder="seuemail@dominio.com" required />
                  </div>
                  <div>
                    <label for="whats">WhatsApp</label>
                    <input id="whats" name="whats" type="tel" placeholder="(51) 9 9999-9999" required />
                  </div>
                </div>
                <div>
                  <label for="assunto">Assunto</label>
                  <select id="assunto" name="assunto" required>
                    <option value="" disabled selected>Selecione</option>
                    <option>Identidade Visual / Branding e demais itens para sua marca</option>
                    <option>Conte√∫do digital</option>
                    <option>Conte√∫do f√≠sico / Materiais personalizados</option>
                    <option>Produtos Leodition</option>
                    <option>Outro</option>
                  </select>
                </div>
                <div>
                  <label for="mensagem">Mensagem</label>
                  <textarea id="mensagem" name="mensagem" placeholder="Me conta o que voc√™ precisa e, n√£o se preocupe se n√£o souber exatamente o que quer."></textarea>
                </div>
                <div class="actions">
                  <button class="btn" type="submit" aria-label="Enviar mensagem por e-mail">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path d="M2 21l21-9L2 3v7l15 2-15 2v7z" fill="currentColor"></path>
                    </svg>
                    Enviar
                  </button>
                  <div class="hint">Aguarde nosso contato. Em breve voc√™ receber√° um retorno.</div>
                </div>
              </form>
            </div>
          </div>
          <aside class="card trust" role="region" aria-label="Tratamento seguro de dados">
            <div class="card-inner">
              <h3>Suas informa√ß√µes est√£o seguras.</h3>
              <p>
                A Leodition respeita sua privacidade.
                Todos os dados enviados aqui s√£o utilizados exclusivamente para responder seu contato e conduzir o atendimento, seguindo as diretrizes da LGPD (Lei n¬∫ 13.709/2018).
              </p>
              <div class="trust-badges" aria-label="Sinais de confian√ßa">
                <div class="badge">
                  <span class="icon" aria-hidden="true" style="width:28px;height:28px;border-radius:12px;">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M12 1l9 4v6c0 5-3.8 9.7-9 12-5.2-2.3-9-7-9-12V5l9-4zm0 6a3 3 0 00-3 3v2H8v6h8v-6h-1v-2a3 3 0 00-3-3zm-1 5v-2a1 1 0 012 0v2h-2z"/>
                    </svg>
                  </span>
                  Privacidade
                </div>
                <div class="badge">
                  <span class="icon" aria-hidden="true" style="width:28px;height:28px;border-radius:12px;">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M12 2l2.4 6.2L21 9l-5 4.1L17.5 20 12 16.7 6.5 20 8 13.1 3 9l6.6-.8L12 2z"/>
                    </svg>
                  </span>
                  Atendimento humano
                </div>
                <div class="badge">
                  <span class="icon" aria-hidden="true" style="width:28px;height:28px;border-radius:12px;">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M7 2h10v2H7V2zm-2 4h14v16H5V6zm4 3v2h6V9H9zm0 5v2h6v-2H9z"/>
                    </svg>
                  </span>
                  Briefing r√°pido
                </div>
              </div>
            </div>
          </aside>
        </section>
      </div>
    </main>
    <footer>
      <div class="footer-inner">
        <div class="contact-strip" aria-label="Contatos Leodition">
          <a class="contact-item" href="mailto:comercial@leodition.com.br?subject=Contato%20-%20Leodition%20Marketing%20Play" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
              </svg>
            </div>
            <div class="label">
              <b>E-mail</b>
              <span>comercial@leodition.com.br</span>
            </div>
          </a>
          <a class="contact-item" href="https://wa.me/55519891304?text=Oi%20Leodition!%20Quero%20falar%20sobre%20um%20projeto." target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M20.5 3.5A11 11 0 003.7 18.6L2 22l3.6-1.6A11 11 0 1020.5 3.5zM12 20a8.9 8.9 0 01-4.5-1.2l-.3-.2-2.1.9.9-2.1-.2-.3A9 9 0 1112 20zm5-6.7c-.3-.1-1.8-.9-2-.9s-.4-.1-.6.1-.7.9-.9 1-.3.2-.6.1a7.2 7.2 0 01-2.1-1.3 7.9 7.9 0 01-1.5-1.9c-.2-.3 0-.5.1-.6l.4-.5c.1-.1.1-.3.2-.4 0-.1 0-.3-.1-.4s-.6-1.5-.9-2-.4-.4-.6-.4h-.5c-.2 0-.4.1-.6.3s-.8.7-.8 1.7.8 2 1 2.3a9.2 9.2 0 003.5 3.6c2 1.1 2 1 2.4.9s1.3-.5 1.5-1 .2-1 .1-1.1-.2-.2-.5-.3z"/>
              </svg>
            </div>
            <div class="label">
              <b>WhatsApp</b>
              <span>51 9 9891-1304</span>
            </div>
          </a>
          <a class="contact-item" href="https://www.instagram.com/leodition/" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm10 2H7a3 3 0 00-3 3v10a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3zm-5 3.5A4.5 4.5 0 1112 16a4.5 4.5 0 010-9zm0 2A2.5 2.5 0 1014.5 12 2.5 2.5 0 0012 9.5zM17.8 6.2a1 1 0 11-1 1 1 1 0 011-1z"/>
              </svg>
            </div>
            <div class="label">
              <b>Instagram</b>
              <span>@Leodition</span>
            </div>
          </a>
          <a class="contact-item" href="https://www.linkedin.com/company/leodition" target="_blank" rel="noopener">
            <div class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 24V7.98h5V24H0zm7.5 0h5V15.5c0-2.25.5-4 3.25-4 2.72 0 2.75 2.55 2.75 4.15V24h5V14.5C23.5 9.85 21 7.5 17 7.5c-1.92 0-3.2 1.05-3.75 2.05h-.05V7.98h-5V24z"/>
              </svg>
            </div>
            <div class="label">
              <b>LinkedIn</b>
              <span>/company/leodition</span>
            </div>
          </a>
        </div>
        <div class="footer-bottom" aria-label="Informa√ß√µes do rodap√©">
          <div>¬© 2025 Leodition ‚Äì Marketing Play.</div>
          <div class="slogan">Entende. Pensa. Cria.</div>
        </div>
      </div>
    </footer>
  </div>

  <!-- Formul√°rio mailto -->
  <script>
    const form = document.getElementById("contactForm");
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const nome = document.getElementById("nome").value.trim();
      const empresa = document.getElementById("empresa").value.trim();
      const email = document.getElementById("email").value.trim();
      const whats = document.getElementById("whats").value.trim();
      const assunto = document.getElementById("assunto").value;
      const mensagem = document.getElementById("mensagem").value.trim();
      const subject = encodeURIComponent(`Contato - ${assunto} | ${nome}`);
      const body = encodeURIComponent(
        `Nome: ${nome}\n` +
        `Empresa: ${empresa || "-"}\n` +
        `E-mail: ${email}\n` +
        `WhatsApp: ${whats}\n\n` +
        `Mensagem:\n${mensagem || "-"}\n\n` +
        `Enviado via site da Leodition.`
      );
      window.location.href = `mailto:comercial@leodition.com.br?subject=${subject}&body=${body}`;
    });
  </script>

  <!-- SCRIPT FINAL - CORRIGIDO O PROBLEMA DO CARACTERE NO INPUT -->
  <script>
    const SENHA_ADMIN = '1301';

    const stats = {
      get: () => JSON.parse(localStorage.getItem('leodition_stats') || '{}'),
      save: (data) => localStorage.setItem('leodition_stats', JSON.stringify(data)),
      increment: (key) => {
        let data = stats.get();
        data[key] = (data[key] || 0) + 1;
        stats.save(data);
      }
    };

    stats.increment('visitas_total');

    const paginaAtual = (window.location.pathname.split('/').pop() || 'index.html').toLowerCase();
    const mapaAbas = {
      'index.html': 'aba_home',
      'servicos.html': 'aba_servicos',
      'portfolio.html': 'aba_projetos',
      'loja.html': 'aba_loja',
      'fale-com-a-gente.html': 'aba_contato',
      '': 'aba_home',
    };
    if (mapaAbas[paginaAtual]) stats.increment(mapaAbas[paginaAtual]);

    function trackClick(selector, key) {
      document.querySelectorAll(selector).forEach(el => {
        el.addEventListener('click', () => stats.increment(key));
      });
    }
    trackClick('a[href^="https://wa.me/"]', 'click_whatsapp');
    trackClick('a[href*="instagram.com"]', 'click_instagram');
    trackClick('a[href^="mailto:"]', 'click_email');
    trackClick('#contactForm button[type="submit"]', 'click_enviar_form');

    if (paginaAtual === 'loja.html') {
      document.querySelectorAll('.card-link').forEach(link => {
        const titulo = link.querySelector('h3')?.textContent.trim() || 'Categoria desconhecida';
        link.addEventListener('click', () => {
          let data = stats.get();
          data.visualizacoes_categorias = data.visualizacoes_categorias || {};
          data.visualizacoes_categorias[titulo] = (data.visualizacoes_categorias[titulo] || 0) + 1;

          const ordenadas = Object.entries(data.visualizacoes_categorias).sort((a, b) => b[1] - a[1]);

          let primeira = 'Nenhum clique ainda';
          let segunda = 'Ainda sem segundo lugar';

          if (ordenadas.length > 0) {
            const max = ordenadas[0][1];
            const primeiras = ordenadas.filter(c => c[1] === max).map(c => `${c[0]} (${max} vez${max > 1 ? 'es' : ''})`);
            primeira = primeiras.join(' | ');
          }
          if (ordenadas.length > 1) {
            const primeiroValor = ordenadas[0][1];
            const segundoGrupo = ordenadas.filter(c => c[1] < primeiroValor);
            if (segundoGrupo.length > 0) {
              const segundoMax = segundoGrupo[0][1];
              const segundas = segundoGrupo.filter(c => c[1] === segundoMax).map(c => `${c[0]} (${segundoMax} vez${segundoMax > 1 ? 'es' : ''})`);
              segunda = segundas.join(' | ');
            }
          }

          data.categoria_mais_vista = primeira;
          data.categoria_segunda_mais_vista = segunda;
          stats.save(data);
        });
      });
    }

    let buffer = '';
    const PALAVRA_SECRETA = 'daniel';
    let overlayAtivo = false;
    let panelAberto = false;
    let currentOverlay = null;

    document.addEventListener('keydown', (e) => {
      if (e.key.length === 1 && e.key.match(/[a-z]/i)) {
        buffer += e.key.toLowerCase();
        if (buffer.length > PALAVRA_SECRETA.length) {
          buffer = buffer.slice(-PALAVRA_SECRETA.length);
        }
        if (buffer === PALAVRA_SECRETA) {
          buffer = ''; // limpa o buffer completamente
          abrirModoAdmin();
        }
      } else if (e.key === 'Backspace') {
        buffer = buffer.slice(0, -1);
      } else if (!['Shift', 'Control', 'Alt', 'Meta'].includes(e.key)) {
        buffer = '';
      }
    });

    function abrirModoAdmin() {
      if (overlayAtivo) return;
      overlayAtivo = true;

      const overlay = document.createElement('div');
      overlay.id = 'adminOverlay';
      overlay.className = 'active';
      currentOverlay = overlay;

      const lock = document.createElement('div');
      lock.className = 'admin-lock';
      lock.textContent = 'üîí';
      overlay.appendChild(lock);

      const passwordBox = document.createElement('div');
      passwordBox.id = 'adminPasswordBox';
      passwordBox.innerHTML = `
        <h3>Acesso Administrativo</h3>
        <input type="password" id="adminPasswordInput" placeholder="Digite a senha" autocomplete="off">
        <div id="adminPasswordError"></div>
        <button id="adminPasswordBtn">Entrar</button>
      `;
      overlay.appendChild(passwordBox);
      document.body.appendChild(overlay);

      // Foco seguro e campo vazio
      setTimeout(() => {
        const input = document.getElementById('adminPasswordInput');
        input.value = '';
        input.focus();
      }, 100);

      document.getElementById('adminPasswordBtn').onclick = () => {
        const input = document.getElementById('adminPasswordInput');
        if (input.value === SENHA_ADMIN) {
          passwordBox.remove();
          toggleAdminPanel();
        } else {
          document.getElementById('adminPasswordError').textContent = 'Senha incorreta';
          input.value = '';
          input.focus();
        }
      };

      document.getElementById('adminPasswordInput').addEventListener('keydown', (e) => {
        if (e.key === 'Enter') document.getElementById('adminPasswordBtn').click();
      });
    }

    function toggleAdminPanel() {
      if (panelAberto) {
        document.getElementById('adminPanel')?.remove();
        if (currentOverlay) {
          currentOverlay.remove();
          currentOverlay = null;
        }
        overlayAtivo = false;
        panelAberto = false;
        return;
      }

      const data = stats.get();
      const nomesAbas = {
        aba_home: 'P√°gina Inicial',
        aba_servicos: 'Servi√ßos',
        aba_projetos: 'Projetos',
        aba_loja: 'Loja',
        aba_contato: 'Fale com a Gente'
      };
      const abasContadas = {
        aba_home: data.aba_home || 0,
        aba_servicos: data.aba_servicos || 0,
        aba_projetos: data.aba_projetos || 0,
        aba_loja: data.aba_loja || 0,
        aba_contato: data.aba_contato || 0
      };

      const panel = document.createElement('div');
      panel.id = 'adminPanel';
      panel.innerHTML = `
        <div style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:99999;pointer-events:none;">
          <div style="width:min(90vw, 600px);max-height:90vh;background:rgba(18,18,18,.96);border:1px solid rgba(255,122,24,.5);border-radius:20px;padding:32px;color:#f4f4f4;font-family:system-ui;box-shadow:0 20px 60px rgba(0,0,0,.9);backdrop-filter:blur(14px);overflow-y:auto;pointer-events:auto;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;">
              <h3 style="margin:0;font-size:24px;color:#ffd84a;">Painel Administrativo</h3>
              <button onclick="toggleAdminPanel()" style="background:none;border:none;color:#ff7a18;font-size:36px;cursor:pointer;line-height:1;">√ó</button>
            </div>
            <div style="font-size:15px;line-height:1.8;">
              <p><strong>Visitas totais ao site:</strong> ${data.visitas_total || 0}</p>
              <p style="margin-top:20px;"><strong>Cliques em contatos:</strong></p>
              <ul style="padding-left:28px;margin:10px 0;">
                <li>WhatsApp: <strong>${data.click_whatsapp || 0}</strong></li>
                <li>Instagram: <strong>${data.click_instagram || 0}</strong></li>
                <li>E-mail: <strong>${data.click_email || 0}</strong></li>
                <li>Enviar formul√°rio: <strong>${data.click_enviar_form || 0}</strong></li>
              </ul>
              <hr style="border:none;border-top:1px solid rgba(255,255,255,.1);margin:20px 0;">
              <p><strong>Acessos por aba:</strong></p>
              <ul style="padding-left:28px;margin:10px 0;">
                ${Object.keys(abasContadas).map(key => `<li>${nomesAbas[key]}: <strong>${abasContadas[key]}</strong></li>`).join('')}
              </ul>
              <hr style="border:none;border-top:1px solid rgba(255,255,255,.1);margin:20px 0;">
              <p><strong>Categorias mais vistas na loja:</strong></p>
              <div style="margin:16px 0 12px; padding-left:12px;">
                <p style="margin:6px 0;"><strong style="color:#ffd84a;font-size:17px;">1¬∫ lugar:</strong><br>
                  <span style="color:#fff;font-size:16px;">${data.categoria_mais_vista || 'Nenhum clique registrado ainda'}</span>
                </p>
                <p style="margin:16px 0 6px;"><strong style="color:#ff9a3d;font-size:16px;">2¬∫ lugar:</strong><br>
                  <span style="color:#ddd;font-size:15px;">${data.categoria_segunda_mais_vista || 'Ainda sem segundo lugar'}</span>
                </p>
              </div>
              <small style="color:#aaa;display:block;margin-top:32px;font-size:13px;line-height:1.5;">
                Digite "daniel" novamente para reabrir.<br>
                Dados salvos apenas no seu navegador (localStorage).
              </small>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(panel);
      panelAberto = true;
    }
  </script>
</body>
</html>